<%=javascript_include_tag('manager/user.js') %>
<p id="notice"><%= notice %></p>

<h1>Users</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Age</th>
      <th>Birthday</th>
      <th>Gender</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <div style="justify-content: flex-end; display: flex;" > 
       <input name="email" class="email">
        <a style="background-color: #82b8e6;" href="/users" class="btn_search"> search </a>
    </div>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td><%= user.phone %></td>
        <td><%= user.age %></td>
        <td><%= user.date_of_birth %></td>
        <td><%= user.gender == "false" ? "Female" : "Male" %></td>
        <td><%= link_to 'Show', user %></td>
        <td><%= link_to 'Edit', edit_user_path(user) %></td>
        <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New User', new_user_path %>
<script>
  $( ".btn_search" ).click(function() {
  email =  $( ".email" ).val();
  window.location.href = '/users?email=' +email;
});
</script>